package dega.gui{		import com.greensock.TweenMax;		import dega.assetsManager.FontEmbedding;	import dega.display.text.BasicText;	import dega.display.text.CustomTLF;	import dega.utils.PixelGrid;		import degafolio.app.AppModel;	import degafolio.config.ConfigColors;	import degafolio.ui.CloseButton;		import flash.display.Sprite;	import flash.events.Event;	import flash.events.MouseEvent;	import flash.text.TextFormat;	import flash.text.engine.RenderingMode;		import flashx.textLayout.formats.TextAlign;
			public class ContactForm extends Sprite {				public static const QUIT:String = "quit";				private var user_name:TextForm;		private var user_email:TextForm;		private var user_message:TextForm;				private var increment:int;		private var posy:int;		private var bt:ButtonSend;		private var close:CloseButton;		private var info:CustomTLF;						public function ContactForm ( ):void {			init ( );		}				private function init ( ):void {									var s:String = "Barcelona, Spain<br/>Carrer Carabasa 12<br/>2do, 1ero<br/>08002<br/>+34 628104090<br/><a href='mailto:degatt2@gmail.com'>degatt2@gmail.com</a>"			info = new CustomTLF ({ linkFormatVisited:{ lineThrough:true }, linkFormatOver:{ underline:true, color:ConfigColors.WHITE }, linkFormat:{ color:0xD0D0D0 }, select:true,htmlText:s, embedFont:true, font:FontEmbedding.BOLD, renderingMode: RenderingMode.CFF, fontSize:15, kerning:true, leading:20, align:TextAlign.LEFT, color:0xFFFFFF, x:0, y:0 });			info.y = 200;			info.x = 120;			addChild ( info );						close = new CloseButton ();			close.y = 150;			close.x = 120;			close.addEventListener(MouseEvent.CLICK, onClick );			addChild ( close );						increment = 30;			posy = info.y + info.height + 50;						user_name = new TextForm( "Type Your Name", TextForm.LINE, 200, 200, 25, 0xFFFFFF, 0xFFFFFF, 0x000000, 0 );			user_name.y = posy;			user_name.x = 120;			addChild (user_name);						posy += increment;						user_email = new TextForm( "And your Email", TextForm.EMAIL, 200, 30, 25, 0xFFFFFF, 0xFFFFFF, 0x000000, 0 );			user_email.y = posy;			user_email.x = 120;			addChild (user_email);						posy += increment;						user_message = new TextForm( "Here Goes Your Message", TextForm.MULTILINE, 500,100, 25, 0xFFFFFF, 0xFFFFFF, 0x000000, 0 );			user_message.y = posy;			user_message.x = 120;			user_message.addEventListener( TextForm.CHANGE, changeListener );			addChild (user_message);						bt = new ButtonSend ();			bt.x = 120;			bt.y = user_message.y + user_message.height + 2;						bt.addEventListener ( MouseEvent.MOUSE_DOWN, sendIt );			addChild (bt);						this.graphics.clear();						this.graphics.beginFill(0x000000, .8 );			this.graphics.drawRect( 0, 70, Main.STAGE.stageWidth, Main.STAGE.stageHeight );			this.graphics.endFill();						this.graphics.beginBitmapFill( new PixelGrid (PixelGrid.GRAYSCALE).bitmapData, null, true );			this.graphics.drawRect( 0, 70, Main.STAGE.stageWidth, Main.STAGE.stageHeight );			this.graphics.endFill();					}				public function onClick ( event:MouseEvent = null ):void {			this.dispatchEvent( new Event ( ContactForm.QUIT ));		}				public function changeListener ( event:Event ):void {			bt.y = user_message.y + user_message.height + 2;		}				public function resize ( ):void {			this.graphics.clear();						this.graphics.beginFill(0x000000, .8 );			this.graphics.drawRect( 0, 70, Main.STAGE.stageWidth, Main.STAGE.stageHeight );			this.graphics.endFill();						this.graphics.beginBitmapFill( new PixelGrid(PixelGrid.GRAYSCALE).bitmapData, null, true );			this.graphics.drawRect( 0, 70, Main.STAGE.stageWidth, Main.STAGE.stageHeight );			this.graphics.endFill();		}				private function sendIt ( event:MouseEvent ):void {						AppModel.mysql.mail( user_name.text, user_email.text, user_message.text );			AppModel.mysql.mailResponse( user_email.text, user_name.text );			user_name.done();			user_email.done ();			user_message.done ();						TweenMax.to ( bt, .2, { delay:.5, alpha:0 });					}			}	}